<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <script type="text/javascript">
    var timePoints = {},rTime = {},rTimeBase =+new Date(),_speedNotReported = true;
    </script>
    <meta charset="utf-8">
    <meta property="qc:admins" content="1167161725116375" />
    <title>全民K歌 - 你其实很会唱歌!</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover" />
    <meta name="format-detection" content="telephone=no">
    <meta name="author" content="Tencent-ISUX-Music">
    <meta name="Copyright" content="Tencent">
    <meta name="keywords" content="合唱,一起唱,独唱,K歌,K歌软件,在线K歌,唱歌,唱K,手机KTV,手机K歌,手机K歌软件,练歌,练歌软件,微信K歌神器,手机K歌神器,K歌软件哪个好" />
    <meta name="description" content="全球首款熟人社交K歌应用，集合练歌模式、好友PK等特色功能，还能和好友互发弹幕互动，赶紧下载和小伙伴一起争夺擂主吧！" />
    <meta name="baidu-site-verification" content="giMDplPvug" />
    <meta name="applicable-device" content="pc,mobile">
    <link rel="dns-prefetch" href="//imgcache.gtimg.cn">
    <script type="text/javascript">
    timePoints['cssbegin'] = +new Date();//css加载开始
    </script>
    <!--[if IE 6]><script type="text/javascript">try{document.execCommand('BackgroundImageCache',false,true);}catch(e){}</script><![endif]-->
    <!--[if lte IE 8]><link href="//kg.qq.com/gtimg/mediastyle/kge_v2/ie8.css" rel="stylesheet" /><![endif]-->
    <link rel="canonical" href="//kg.qq.com"/>
    <link href="//kg.qq.com/gtimg/mediastyle/kge_v2/index.css?max_age=3614000890" rel="stylesheet" />
    <link rel="stylesheet" href="//kg.qq.com/gtimg/mediastyle/kge_v2/mod_popup.import.css">
    <!--iphoneX 底部样式适配:(仅iphonex会识别)安全区增加间距。避免操作放在了iphone的home区域-->
    <style>
    html{padding-bottom:constant(safe-area-inset-bottom);}
    </style>       
    <script type="text/javascript">
    timePoints['cssend'] = +new Date();//css加载完成，head加载结束
    </script>
    
<script type="text/javascript">
function getParameter(name, url) {
    var r = new RegExp("(\x5c?|#|&)" + name + "=([^&#?]*)(&|#|\x5c?|$)"),
        m = (url || location.href).match(r);
    return decodeURIComponent(!m ? "" : m[2]);
}
var g_ish5 = false;
if(getParameter('s')){
    window.location.replace('http://kg.qq.com/share.html'+location.search)
}else if(/android|iphone|ipad|ipod/ig.test(navigator.userAgent)){
    g_ish5 = true;
}else if(location.host != 'kg.qq.com'){
    window.location.replace(window.location.href.replace('y.qq.com/kg','kg.qq.com'));
}

if(g_ish5){
    document.write('<script type="text/javascript" charset="utf-8" src="//kg.qq.com/gtimg/music/live/zepto.js?max_age=31104000003"><\/script>');
    
}else{
    document.write('<script type="text/javascript" charset="utf-8" src="//kg.qq.com/gtimg/music/js/lib/jquery-min.js?max_age=31104000000"><\/script>');

}

</script>
</head>
<body>
<img src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/logo_seo.png" width="121" height="75" style="position:absolute;opacity:0;filter:alpha(opacity=0);" alt="全民K歌官网" />
<div class="mod_header item item-1">
    <!--头部 S-->
    <div class="mod_bar js_kg_head">
    </div>
    <!--头部 E-->
    <!--导航 S-->
    <div class="mod_nav js_kg_nav" data-navIndex="0">
    </div>
    <!--导航 E-->
    <!--PC下载 S-->
    <div class="mod_down">
        <div class="mod_wrap clear_fix" style="position:relative;">
            <div class="mod_down__show j_shuffle" style="opacity:0;filter:alpha(opacity=0);-moz-opacity:0;">
                <div class="mod_down__photo"><img src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/feature_pc.png" alt="" /></div>
            </div>
            <!--手机-->
            <div class="mod_down__show j_shuffle mod_down__show_1">
                <div class="mod_down__phone">
                    <img class="mod_down__p1" src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/feature/feature_1.jpg" alt="" />
                    <img class="mod_down__p2" src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/feature/feature_2.jpg" alt="" />
                    <img class="mod_down__p3" src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/feature/feature_3.jpg" alt="" />
                    <img class="mod_down__pbg" src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/feature/feature_phone.png" alt="" />
                </div>
            </div>
            <div class="mod_down__con">
                <div class="mod_down__title">
                    <h2 class="logo logo_windows">全民K歌 Windows</h2>
                    <h3>创新玩法</h3>
                    <h3>音效升级  等你来唱</h3>
                </div>
                <ul class="mod_down__control">
                    <li><a href="//kg.qq.com/html/contest/kg-intro.html" class="mod_down__btn btn_down" id="down_pc">立即下载</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!--PC下载 E-->
    <!--H5下载 S-->
    <div class="mod_intro">
        <div class="mod_wrap">
            <div class="mod_intro__top">
                <div class="mod_intro__phone1"><img src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/h5/phone_1.png" width="100%" alt="" /></div>
                <div class="mod_intro__phone2"><img src="//kg.qq.com/gtimg/mediastyle/kge_v2/img/h5/phone_2.png" width="100%" alt="" /></div>
            </div>
            <div class="mod_intro__down" id="download-link" style="display:none;">
                <a href="javascript:void(0);" class="mod_intro__btn j_download">立即下载</a>
                <p class="mod_intro__follow"><a href="javascript:void(0);" class="mod_intro__myapp">应用宝联合独家首发 <span class="icon icon_myapp"></span></a></p>
            </div>
        </div>
    </div>
    <!--H5下载 E-->
    
</div>
<!--主要内容 S-->
<div class="mod_wrap item item-2 mod_trends">
    <!--作品 S-->
    <div class="mod_title clear_fix">
        <h2 class="mod_title__name"><span class="mod_title__bar"></span> 热门作品推荐</h2>
        <a href="javascript:void(0);" class="mod_title__more j_more"><span class="icon icon_reload"></span> 换一批</a>
    </div>
    <div class="opus_show">
        <ul class="opus_list clear_fix" id="hot_works">
            
        </ul>
    </div>
    <!--作品 E-->
    <!--大图 S-->
    <div class="mod_focus" style="display:none;">
    </div>
    <!--大图 E-->
    <!--明星 S-->
    <div class="mod_title clear_fix">
        <h2 class="mod_title__name"><span class="mod_title__bar"></span> K歌明星</h2>
    </div>
    <div class="hot_show">
        <ul class="hot_user clear_fix" id="hot_user">
            
        </ul>
    </div>
    <!--明星 E-->
    <div class="mod_up">
        <a href="javascript:void(0);" class="icon icon_up j_scrolltop">回到顶部</a>
    </div>
</div>
<!--主要内容 E-->
<!--尾部 S-->
<div class="mod_footer" id="frame_bottom">
    <!--这里是底部版权信息等，这里的内容由JS生成-->
</div>
<!--尾部 E-->
<!--登录浮层 S-->
<script type="text/javascript">
//HTML加载完成
window.addEventListener("DOMContentLoaded" ,function(){
 timePoints['domready'] = +new Date(); //domready加载完成
});
timePoints['jsbegin'] = +new Date(); //js加载开始
</script>
<script type="text/javascript" src="//kg.qq.com/gtimg/music/kg/lib/sea-kg.js?max_age=31104000000"></script>

<script>
document.domain = 'qq.com';
//错误上报
seajs.config({
    base: '//kg.qq.com/gtimg/music/kg',
    timeout: 8000
});
var list = [
    '/gtimg/music/kg/lib/common.js',
    '/gtimg/music/kg/lib/appcommon.js',
    '/gtimg/music/kg/lib/user.js',
    '/gtimg/music/kg/lib/lazy.js'
]

if(g_ish5){
    list.push('/gtimg/music/kg/lib/slider.js');
}else{
    list.push('/gtimg/music/kg/lib/imgplayer.js');
}

document.write('<script type="text/javascript" charset="utf-8" src="\/\/kg.qq.com\/c\/='+ list.join(',') +'?max_age=31104000088"><\/script>');

document.write('<script type="text/javascript" src="//kg.qq.com/tx_tls_cache=y.qq.com/msa/pc_focus/0_622.js"><\/script>');
</script>
<script>
define('config', function(){
    return {
        share : {
            title:'全民K歌App下载，K歌擂台等你来战！',
            content:'熟人社交K歌应用，集合练歌模式、好友PK等特色功能，还能和好友互发弹幕互动，赶紧下载和小伙伴一起争夺擂主吧！',
            img_url:location.protocol+'//kg.qq.com/gtimg/mediastyle/mobile/kge/extra/qzone.png',
            summary:'熟人社交K歌应用，集合练歌模式、好友PK等特色功能，还能和好友互发弹幕互动，赶紧下载和小伙伴一起争夺擂主吧！',
            link:location.protocol + '//kg.qq.com/?_wv=1'
       },
       download : 'https://c.y.qq.com/r/4NVP'
   }
});

define('main',function(require, exports, module){

    var config = require('config');
    var user = require('lib/user');
    var common = require('lib/common');
    var lazy = require('lib/lazy');
    var slider = require('lib/slider');

    if(g_ish5){
    
        if($.platform.wechat == 'wechat'){
            if (window.WeixinJSBridge) {
                common.autoLaunch();
            } else {
                document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
                    document.removeEventListener('WeixinJSBridgeReady', arguments.callee);
                    common.autoLaunch();
                });
            }
        }else{
            common.autoLaunch();
        }
    
    }

    //kg ios隐藏下载链接
    if(!($.os && $.os.ios && $.platform.qmkege)){
        $("#download-link").show();
    }
    
    exports = module.exports = {
        init:function(){
            user.init({
                callback : function(){
                    $('.j_follow').hide();
                }
            });
          
            this.bind();

            if(user.isQmkege()){
                $('.j_follow').hide();
                
            }

            if($.os && $.os.ios && $.platform.qmkege){
                $('.mod_nav__toggle').hide();
            }
            
            if(g_ish5){
                this.initH5();
                common.luopanPv(247,247014);
            }else{
                this.get();
                setTimeout(function () {
                    exports.shuffleFigure();
                },5000);
            }
            
            
            setTimeout(function(){
                exports.initFocus();
            },500)
            
            //pv上报
            common.pv();
            
            
            
        },
        param : {
            index : 0,
            page : 8
        },
        get : function(){
            common.ajax({
                url : 'http://cgi.kg.qq.com/fcgi-bin/fcg_homepage_feed',
                data : {
                    index : exports.param.index,
                    page : exports.param.page
                },
                success : function(res){
                    if(!res.data.has_more){
                        exports.param.index = 0;
                    }else{
                        if(res.data.next_start){
                            exports.param.index = res.data.next_start;
                        }else{
                            exports.param.index+= exports.param.page;
                        }
                    }
                    if(res.data.userlist){
                        var html = '';
                        for(var i = 0, item;g_ish5 && i<6 || (!g_ish5 && i<res.data.userlist.length); i++){//h5仅显示6个 pc显示8个
                            
                            item = res.data.userlist[i];
                            html += '<li class="hot_user__item" data-uid="'+item.id+'">';
                            html += '    <a ' + ($.platform.qmkege ? 'href="javascript:void(0);" class="qmkege_personal"' : ('href="//node.kg.qq.com/personal?uid='+item.encrtpt_id+'"')) + ' target="_blank" data-uid="'+item.id+'">';
                            html += '    <div class="hot_user__face">';
                            
                            if(g_ish5){
                                 html += '        <img src="'+item.headpic+'" alt="" />';
                            }else{
                                 html += '        <img src="//kg.qq.com/gtimg/music/musicbox_v3/img/pics/default.gif" data-lazyload="'+item.headpic+'" alt="" />';
                            }
                            
                            html += '    </div>';
                            html += '    <p class="hot_user__name">'+common.parseEmoji(item.nick)+'</p>';
                            html += '    </a>';
                            html += '</li>';
                        }
                        $('#hot_user').html(html);
                    }

                    var html='',d;
                    for(var i = 0, item; item = res.data.feeds[i]; i++){
                        html += '<li class="opus_list__item">';
                        html += '    <a class="opus_list__show'+($.platform.qmkege ? " qmkege_play" :"")+'" href="' + ($.platform.qmkege ? 'javascript:void(0);' : ('//node.kg.qq.com/play?s='+item.share_url)) + ' " target="_blank" data-shareid="'+item.share_url+'">';
                        html += '        <div class="opus_list__img"><img src="//kg.qq.com/gtimg/music/musicbox_v3/img/pics/default.gif" data-lazyload="'+item.songpic+'" alt="" /></div>';
                        html += '        <div class="opus_list__mask"></div>';
                        html += '        <div class="opus_list__count">';
                        html += '            <span class="opus_list__icon icon_play_s"></span>';
                        html += '            <p class="opus_list__song">'+item.songname+'</p>';
                        html += '            <p class="opus_list__listen"><span class="icon icon_listen"></span>'+(item.ls>10000? Math.floor(item.ls/10000)+'W+' : item.ls) +'</p>';
                        html += '            <p class="opus_list__name">'+common.parseEmoji(item.nick)+'</p>';
                        html += '        </div>';
                        item.is_mv && (html += '        <span class="corner corner_mv"></span>');
                        html += '    </a>';
                        html += '</li>';
                    }
                    $('#hot_works').html(html);
                    lazy.load();
                },
                error : function(){

                }
            })

        },
        initFocus:function(){
        
            if(!g_ish5 && global_focus_yunying && global_focus_yunying.length){
            
                var h_img = '<ul class="mod_focus__list">';
                var h_control = '<div class="mod_focus__control">';
                var num = 0;
                $.each(global_focus_yunying,function(i){
        
                    var _data = global_focus_yunying[i];
                    if(_data.img){
                        ++num;
                        h_img+='<li class="focus_img"><a target="'+_data.target+'"  '+(_data.url?("href=\""+_data.url+"\""):"")+' class="mod_focus__item'+(num==1?" mod_focus__item--current\"":"\"")+'><img '+(num==1?"src":"__src")+'="'+_data.img+'" alt="'+_data.name+'"/></a></li>';
                        h_control+='<a href="javascript:;" class="mod_focus__point'+(num==1?" mod_focus__point--current\"":"\"")+'></a>';
            
                    }
                    
                })
                h_img+='</ul>';
                h_control+='</div>';
                
                if(num){
                    $('.mod_focus').html(h_img+h_control).show();
                }
                
                
                if(num>1){
                
                    imgPlayer.init({                 
                        container : $('.mod_focus'), 
                        imgarealist : $('.mod_focus .focus_img a'), 
                        iconlist : $('.mod_focus .mod_focus__control > a'), 
                        iconclass:'mod_focus__point--current',
                        imgclass:'mod_focus__item--current',
                        iconevent : 'mouseover', 
                        time : 3000, 
                        lazyload : true 
                    });                 
                
                }
                
                
            
            }
        
            if(!exports.dospeed){
                exports.dospeed = true;
                timePoints['active'] = new Date().getTime();
                if(location.protocol == 'https:'){
                    common.speed(1608,1,24);
                } else {
                    common.speed(1608,1,23);  
                }
            }
        
        },
        bind : function (){
            $(document.body).on('click', '.j_more', function(){
                exports.get();
                return false;
            })
            .on('click', '.j_follow', function(e){
                if(!user.isLogin()){
                    user.login();
                    return;
                }
                common.ajax({
                    url : 'http://cgi.kg.qq.com/fcgi-bin/fcg_appointment',
                    jsonp : 'callback',
                    jsonpCallback : 'MusicJsonCallback',
                    data : {
                        follow : 'true'
                    },
                    success : function(res){
                        alert('关注成功!');
                    },
                    error : function(){
                        alert('网络错误，请稍后重试！');
                    }
                })
                return false;
            })
            .on('click', '.mod_popup__close', function(){
                $(this).parents('.mod_popup').hide();
                return false;
            })
            .on('click', '.j_scrolltop', function(){
                $(window).scrollTop(0)
                return false;
            })
            .on('click', '.mod_nav__toggle', function(){
               $('.mod_nav__list').toggle();
                return false;
            })
            .on('click','.j_download',function(){
                /*if($('.follow').attr('checked')){
                    common.ajax({
                        jsonp : 'callback',
                        jsonpCallback : 'MusicJsonCallback',                    
                        url:'http://cgi.kg.qq.com/fcgi-bin/fcg_appointment',
                        data : {
                            follow : true
                        }
                    });
                }*/
                
                var openid = common.getParameter('openid');
                if (openid && $(this).text() != '打开') {
                    common.ajax({
                        url: 'http://cgi.kg.qq.com/fcgi-bin/fcg_download_app',
                        dataType : 'json',
                        data : {
                            openid : openid,
                            opentype : common.getParameter('opentype'),
                            code : common.getParameter('code')
                        },
                        error:function(data){
                            
                        }
                    });
                }
                common.openApp('qmkege://kege.com?action=home');
            })
            .on('click','#down_pc',function(){
                common.hotClick('index.download.pc');
            })
            .on('click','.qmkege_play',function(){
              common.openApp('qmkege://kege.com?action=detail&share_id='+$(this).attr('data-shareid'));
            })
            .on('click','.qmkege_personal',function(){
              common.openApp('qmkege://kege.com?action=profile&uid='+$(this).attr('data-uid'));
            })
            
        
            
        },
        initH5:function(){
            exports.get();
            exports.initApp();
            common.setShare(config.share);

        },
        initApp:function(){
            common.checkInstall(function(installed){
                if(installed == 1){//已安装
                    $('.j_download').html('打开');
                }else if(installed == 2){//未安装

                }else if(installed == 3){//未知
                    $('.j_download').html('打开');
                }
            });
            //指定跳转的scheme,如:kg.qq.com/?action=&data={}
            var action = atob(common.getParameter("action"));
            if(action){
                var data = decodeURIComponent(atob(common.getParameter("data")));//不支持中文字符编解码
                data = data ? JSON.parse(data) : {};
                
                common.KGinvoke(action,data);
            }
        },
        shuffleFigure:function () {
            $('.mod_down__show_1').animate({opacity:0}, 1000, 'linear');
            $('.mod_down__show_1').removeClass('mod_down__show_1').siblings('.j_shuffle').addClass('mod_down__show_1').animate({opacity:1}, 1000);
            setTimeout(function () {
                exports.shuffleFigure();
            },3000);
        }
    }
    exports.init();
});

seajs.use('main');
</script>
<!--[if IE 6]><script type="text/javascript" src="//kg.qq.com/gtimg/mediastyle/kge_v2/sprite/DD_belatedPNG_0.0.8a.js"></script><![endif]-->
<script>
timePoints['jsend'] = +new Date(); //js加载完成
</script>
</body>
</html>
